<div class="trending-container">
  <div class="trending-header">
    <h3 class="trending-title">{{ title }}</h3>
    @if (processedItems.length > 0) {
      <span class="trending-count">
        {{ processedItems.length }} tags
      </span>
    }
  </div>

  @if (processedItems.length > 0) {
    <div class="trending-content">
      <div class="trending-cloud">
        @for (item of processedItems; track trackByName($index, item)) {
          <div
            class="trending-tag"
            [class]="'trending-tag--' + item.level"
            [attr.data-views]="item.views"
            [title]="item.name + ' - ' + formatViews(item.views) + ' views'"
            >
            <span class="tag-name">{{ item.name }}</span>
            <span class="tag-views">{{ formatViews(item.views) }}</span>
          </div>
        }
      </div>
      <div class="trending-legend">
        <div class="legend-item">
          <span class="legend-dot legend-dot--very-high"></span>
          <span class="legend-text">Very Popular</span>
        </div>
        <div class="legend-item">
          <span class="legend-dot legend-dot--high"></span>
          <span class="legend-text">Popular</span>
        </div>
        <div class="legend-item">
          <span class="legend-dot legend-dot--medium"></span>
          <span class="legend-text">Moderate</span>
        </div>
        <div class="legend-item">
          <span class="legend-dot legend-dot--low"></span>
          <span class="legend-text">Emerging</span>
        </div>
      </div>
    </div>
  } @else {
    <div class="trending-empty">
      <div class="empty-icon">ðŸ“ˆ</div>
      <p class="empty-text">No trending data available</p>
    </div>
  }

</div>
