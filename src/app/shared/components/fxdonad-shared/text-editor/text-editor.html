<div class="text-editor-container">
  <!-- Toolbar -->
  <div class="text-editor-toolbar" *ngIf="!config.readonly">
    <!-- Text Formatting -->
    <div class="toolbar-group">
      <button
        type="button"
        class="toolbar-btn"
        [class.active]="isCommandActive('bold')"
        (click)="bold()"
        title="In ƒë·∫≠m (Ctrl+B)"
        *ngIf="config.toolbar?.bold"
      >
        <i class="icon-bold">B</i>
      </button>

      <button
        type="button"
        class="toolbar-btn"
        [class.active]="isCommandActive('italic')"
        (click)="italic()"
        title="In nghi√™ng (Ctrl+I)"
        *ngIf="config.toolbar?.italic"
      >
        <i class="icon-italic">I</i>
      </button>

      <button
        type="button"
        class="toolbar-btn"
        [class.active]="isCommandActive('underline')"
        (click)="underline()"
        title="G·∫°ch ch√¢n (Ctrl+U)"
        *ngIf="config.toolbar?.underline"
      >
        <i class="icon-underline">U</i>
      </button>

      <button
        type="button"
        class="toolbar-btn"
        [class.active]="isCommandActive('strikeThrough')"
        (click)="strikethrough()"
        title="G·∫°ch ngang"
        *ngIf="config.toolbar?.strikethrough"
      >
        <i class="icon-strikethrough">S</i>
      </button>
    </div>

    <!-- Text Alignment -->
    <div class="toolbar-group">
      <button
        type="button"
        class="toolbar-btn"
        [class.active]="isCommandActive('justifyLeft')"
        (click)="alignLeft()"
        title="CƒÉn tr√°i"
        *ngIf="config.toolbar?.alignLeft"
      >
        <i class="icon-align-left">‚´∑</i>
      </button>

      <button
        type="button"
        class="toolbar-btn"
        [class.active]="isCommandActive('justifyCenter')"
        (click)="alignCenter()"
        title="CƒÉn gi·ªØa"
        *ngIf="config.toolbar?.alignCenter"
      >
        <i class="icon-align-center">‚´∏</i>
      </button>

      <button
        type="button"
        class="toolbar-btn"
        [class.active]="isCommandActive('justifyRight')"
        (click)="alignRight()"
        title="CƒÉn ph·∫£i"
        *ngIf="config.toolbar?.alignRight"
      >
        <i class="icon-align-right">‚´π</i>
      </button>

      <button
        type="button"
        class="toolbar-btn"
        [class.active]="isCommandActive('justifyFull')"
        (click)="alignJustify()"
        title="CƒÉn ƒë·ªÅu"
        *ngIf="config.toolbar?.alignJustify"
      >
        <i class="icon-align-justify">‚´∫</i>
      </button>
    </div>

    <!-- Lists -->
    <div class="toolbar-group">
      <button
        type="button"
        class="toolbar-btn"
        [class.active]="isCommandActive('insertUnorderedList')"
        (click)="insertUnorderedList()"
        title="Danh s√°ch kh√¥ng ƒë√°nh s·ªë"
        *ngIf="config.toolbar?.bulletList"
      >
        <i class="icon-list-ul">‚Ä¢</i>
      </button>

      <button
        type="button"
        class="toolbar-btn"
        [class.active]="isCommandActive('insertOrderedList')"
        (click)="insertOrderedList()"
        title="Danh s√°ch ƒë√°nh s·ªë"
        *ngIf="config.toolbar?.numberedList"
      >
        <i class="icon-list-ol">1.</i>
      </button>
    </div>

    <!-- Indentation -->
    <div class="toolbar-group">
      <button
        type="button"
        class="toolbar-btn"
        (click)="indent()"
        title="Th·ª•t l·ªÅ"
        *ngIf="config.toolbar?.indent"
      >
        <i class="icon-indent">‚Üí</i>
      </button>

      <button
        type="button"
        class="toolbar-btn"
        (click)="outdent()"
        title="Gi·∫£m th·ª•t l·ªÅ"
        *ngIf="config.toolbar?.outdent"
      >
        <i class="icon-outdent">‚Üê</i>
      </button>
    </div>

    <!-- Clear Format -->
    <div class="toolbar-group">
      <button
        type="button"
        class="toolbar-btn"
        (click)="clearFormat()"
        title="X√≥a ƒë·ªãnh d·∫°ng"
        *ngIf="config.toolbar?.clearFormat"
      >
        <i class="icon-clear-format">T</i>
      </button>
      <!-- N√∫t upload ·∫£nh -->
      <button
        type="button"
        class="toolbar-btn"
        (click)="onImageUploadClick()"
        title="Ch√®n ·∫£nh"
        *ngIf="config.toolbar?.image"
      >
        <i class="icon-image">üñºÔ∏è</i>
      </button>
      <input
        #imageInput
        type="file"
        accept="image/*"
        style="display: none"
        (change)="onImageSelected($event)"
      />
    </div>
  </div>

  <!-- Editor Area -->
  <div
    #editor
    class="text-editor-content"
    [style.height]="config.height"
    [style.min-height]="config.minHeight"
    [style.max-height]="config.maxHeight"
    (focus)="onEditorFocus()"
    (blur)="onEditorBlur()"
    [attr.contenteditable]="!config.readonly"
    [attr.data-placeholder]="config.placeholder"
  ></div>
</div>
