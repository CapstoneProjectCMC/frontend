<div class="quiz-submission-container">
  <app-quiz
    [questions]="questions"
    [totalTime]="times * 60"
    [quizId]="quizId"
    [exerciseId]="exerciseId ?? ''"
    (quizStateChanged)="onQuizStateChanged($event)"
  ></app-quiz>

  <app-box-chat-ai
    *ngIf="allowChatbot"
    [chatContexts]="chatContexts"
    [currentContextId]="currentContextId"
    [isLoading]="isLoading"
    [initialWidth]="currentChatWidth"
    [minWidth]="'300px'"
    [maxWidth]="'500px'"
    [position]="'right'"
    (widthChanged)="onWidthChanged($event)"
    (sendMessage)="handleSendMessage($event)"
    (createNewChat)="handleCreateNewChat()"
    (selectContext)="handleSelectContext($event)"
    (deleteContext)="handleDeleteContext($event)"
  ></app-box-chat-ai>
</div>
