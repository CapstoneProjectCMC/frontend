<div class="history-container">
  <h2 class="page-title">üìò L·ªãch s·ª≠ n·ªôp b√†i</h2>

  <div class="history-list" *ngIf="submissions">
    <div
      class="history-card"
      *ngFor="let item of submissions"
      (click)="goToQuizDetails(item.exerciseId, item.exerciseType)"
    >
      <div class="card-header">
        <h3 class="exercise-title">{{ item.exerciseTitle }}</h3>
        <span
          class="score"
          [class.passed]="item.score === item.totalPoints"
          [class.failed]="item.score < item.totalPoints"
        >
          {{ item.score }}/{{ item.totalPoints }}
        </span>
      </div>

      <div class="card-body">
        <div class="info">
          <span
            ><i class="fa fa-clock"></i>
            {{ item.timeTakenSeconds | durationFormat }}</span
          >
          <span
            ><i class="fa fa-calendar"></i>
            {{ item.submittedAt | date : "dd/MM/yyyy HH:mm" }}</span
          >
          <span
            ><i
              class="fa"
              [class]="
                item.exerciseType === 'QUIZ' ? 'fa-circle-question' : 'fa-code'
              "
            ></i>
            {{ item.exerciseType === "QUIZ" ? "Tr·∫Øc nghi·ªám" : "Vi·∫øt m√£" }}</span
          >
        </div>

        <div class="progress-bar">
          <div
            class="progress-fill"
            [style.width.%]="(item.score / item.totalPoints) * 100"
          ></div>
        </div>
      </div>
    </div>
  </div>

  <div class="no-history" *ngIf="!submissions">Kh√¥ng c√≥ d·ªØ li·ªáu hi·ªÉn th·ªã</div>
</div>
