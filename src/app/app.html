<div class="app-container">
  <router-outlet />

  <app-breadcrumb style="display: none"></app-breadcrumb>

  <!-- Danh sách thông báo -->
  @if (notifications$ | async; as notifications) {
    <div class="notification-wrapper">
      @for (notif of notifications.slice(0, 4); track trackById(i, notif); let i = $index) {
        <app-notification-card
          [title]="notif.title"
          [message]="notif.message"
          [type]="notif.type"
          [timestamp]="notif.timestamp"
          (closed)="removeNotification(notif.id)"
          [@stackAnimation]="i"
          [ngClass]="'stack-' + i"
        ></app-notification-card>
      }
    </div>
  }
</div>

@if ((isLoading$ | async); as isLoading) {
  <app-loading-overlay
    [visible]="isLoading"
    [message]="(loadingContent$ | async) ?? 'Xin chờ...'"
  ></app-loading-overlay>
}
<app-notice-modal></app-notice-modal>
